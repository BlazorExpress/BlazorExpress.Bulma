@attribute [Route(pageUrl)]
@layout DemosMainLayout

<PageMetaTags PageUrl="@pageUrl" Title="@metaTitle" Description="@metaDescription" ImageUrl="@imageUrl" />

<PageHero Title="@pageTitle">
    <SubTitleTemplate>
        @((MarkupString)pageDescription)
    </SubTitleTemplate>
</PageHero>

<DocsLink Href="@DemoRouteConstants.Docs_ScriptLoader_Documentation" />

<Section Class="p-0" Size="HeadingSize.H3" Name="How it works" PageUrl="@pageUrl" Link="how-it-works">
    <div class="mb-3">
        In the following example, the jQuery script is loaded using the Script Loader component.
    </div>
    <Demo Type="typeof(ScriptLoader_Demo_01_Examples)" />
</Section>

<Message>
    <MessageHeader>Test</MessageHeader>
    <MessageBody>
        To test whether the jQuery script has been loaded successfully, run <code>$('#script1')[0]</code> in the browser console.
    </MessageBody>
</Message>

<img src="https://i.imgur.com/EWEGAZv.png" class="img-fluid" alt="Blazor Script Loader - Test whether the jQuery script has been loaded successfully" />

<Section Class="p-0" Size="HeadingSize.H2" Name="Events" PageUrl="@pageUrl" Link="events">
    <div class="mb-3">
        Blazor Script Loader component exposes two events.
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Event Name</th>
                <th scope="col">Description</th>
            </tr>
            </thead>
            <tbody class="table-group-divider">
            <tr>
                <th scope="row"><code>OnError</code></th>
                <td>An event that is fired when a script loading error occurs.</td>
            </tr>
            <tr>
                <th scope="row"><code>OnLoad</code></th>
                <td>An event that is fired when a script has been successfully loaded.</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="mb-3">
        In the following example, an incorrect script source is specified. 
        This is why the <code>OnError</code> callback event is called, and the message is updated with the error message.
    </div>
    <Demo Type="typeof(ScriptLoader_Demo_02_Events)" />
</Section>

@code {
    private const string componentName = nameof(ScriptLoader);
    private const string pageUrl = DemoRouteConstants.Demos_ScriptLoader_Documentation;
    private const string pageTitle = componentName;
    private const string pageDescription = $"Documentation and examples for using the <code>{componentName}</code> component.";
    private const string metaTitle = $"Blazor {componentName} Component";
    private const string metaDescription = $"Documentation and examples for using the {componentName} component.";
    private const string imageUrl = DemoScreenshotSrcConstants.ScriptLoader;
}
